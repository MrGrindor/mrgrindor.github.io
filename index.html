<!DOCTYPE html>
<html>
<head>
	<title>DPS Map</title>
	<link rel="stylesheet" type="text/css" href="index.css">

</head>
<body>
	<div class="sidenav">
		<div class="positionbox">
			<h3>Position 1</h3>
			<p id="pos1x">X: Not set</p>
			<p id="pos1y">Y: Not set</p>
		</div>
		
		<div class="positionbox">
			<h3>Position 2</h3>
			<p id="pos2x">X: Not set</p>
			<p id="pos2y">Y: Not set</p>
		</div>
		<button id="reset" onclick="reset()"> <h1>Reset</h1> </button>
		<div class="positionbox">
			<h3>Distance</h3>
			<p id ="distance"></p>
		</div>
	</div>
	<div class= "main" id="map">
		<img src="map.png" onclick="main(event)">
	</div>
	<script type="text/javascript">
		var pos1 = [null,null];
		var pos2 = [null,null];

		function main(event) {
			getmouseposition(event);
  			document.getElementById("pos1x").innerHTML ="X: "+ pos1[0];
  			document.getElementById("pos1y").innerHTML ="Y: "+ pos1[1];
  			putDownMarker(pos1[0],pos1[1]);
  			if ((pos2[0]!=null) && (pos2[1]!=null)){
  				document.getElementById("pos2x").innerHTML ="X: "+ pos2[0];
  				document.getElementById("pos2y").innerHTML ="Y: "+ pos2[1];
  				document.getElementById("distance").innerHTML = getDistance();
  				putDownMarker(pos2[0],pos2[1]);
  			}
  			
		}
		function getmouseposition(event) {
			if ((pos1[0]==null) && (pos1[1]==null)){
				pos1[0] = event.clientX;
				pos1[1] = event.clientY;
			}
			else {
				pos2[0] = event.clientX;
				pos2[1] = event.clientY;
			}	
		}
		function getDistance(){
			return Math.sqrt((pos2[0]-pos1[0])*(pos2[0]-pos1[0])+(pos2[1]-pos1[1])*(pos2[1]-pos1[1]));
		}

		function putDownMarker(x,y){
			var marker = document.createElement("img");
			var map = document.getElementById("map");
			marker.src = "marker.png";
			marker.margin-top = x-15;
			marker.margin-side = y-15;
			marker.z-index = 2;
			map.appendChild(marker);
		}
		function reset(){
			pos1 = [null,null];
			pos2 = [null,null];
			document.getElementById("pos1x").innerHTML = "X: Not set";
  			document.getElementById("pos1y").innerHTML = "Y: Not set";
  			document.getElementById("pos2x").innerHTML = "X: Not set";
  			document.getElementById("pos2y").innerHTML = "Y: Not set";
  			document.getElementById("distance").innerHTML = "0";
		}

	</script>
</body>

</html>